/* =========================================================
   DOKKAEBI INVENTORY
   ㅜ 레이아웃 + 팝업 확대 + Logs 헤더 정렬
   ========================================================= */
:root{
  --bg:#181a20; --card:#1f2937; --text:#fff; --muted:#9ca3af;
  --line:#334155; --accent:#2dd4bf; --danger:#ee3a60;

  --page-max: 1320px;       /* 전체 페이지 컨테이너 최대 폭 */
  --grid-gap: 24px;
  --card-pad: 20px;
  --card-radius: 20px;

  --summary-max: 860px;     /* 하단 '전체' 카드 최대 폭 (여유 공간 확보) */
  --fixed-card-height: 520px; /* 장소 카드 고정 높이: 펼칠 때 주변 카드 안 흔들림 */
  --cards-max: 1040px;      /* 장소 카드 그리드 컨테이너 폭 (가운데 정렬) */
}

html, body {
  font-family: 'GangwonEduPowerExtraBoldA', sans-serif !important;
}


*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",Arial,sans-serif}

/* Shell
   👉 배경 이미지는 JS에서 FixedBg 컴포넌트로 고정 레이어 처리(이미지 경로 문제 방지)
   과거 .app-main::before 는 제거
*/
.app-main>.dk-main-title,
.app-main>.toolbar,
.app-main>.search-result,
.app-main>.cards-grid,
.app-main>.summary-bottom,
.app-main>.logs-header{
  max-width:var(--page-max); margin-inline:auto; width:100%;
}

.fade-in{opacity:0;animation:fadeInMain .3s cubic-bezier(.6,.15,.4,1.1) .08s forwards}
@keyframes fadeInMain{0%{opacity:0;transform:translateY(30px) scale(.98)}100%{opacity:1;transform:translateY(0) scale(1)}}

/* Title */
.dk-main-title{
  text-align:center;font-weight:900;font-size:2.2rem;letter-spacing:2px;
  background:linear-gradient(90deg,#2dd4bf,#a889fd,#9aa3d4,#2dd4bf);
  background-size:400% 100%;color:transparent;-webkit-background-clip:text;background-clip:text;
  animation:gradientMove 4s linear infinite;margin:0 0 16px 0;text-shadow:0 2px 24px #2dd4bf33
}
@keyframes gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

/* Toolbar */
.toolbar{
  display:grid; grid-template-columns:1fr auto auto auto;
  gap:12px; align-items:center; padding:12px;
  background:#0f172a88;border:1px solid #0f172a;border-radius:14px;backdrop-filter:blur(6px)
}
.toolbar .search-input,
input[type="text"],input[type="password"]{
  width:100%; height:44px; padding:0 12px; border-radius:10px;
  border:1.5px solid var(--line); background:#232943; color:#fff; outline:none;
  transition:border .15s, background .15s
}
input[type="text"]:focus,input[type="password"]:focus,.toolbar .search-input:focus{
  border-color:#08a68b !important; background:#27334e !important
}

/* Date */
input[type="date"]{
  height:44px;border-radius:10px;border:1px solid var(--line);
  background:#222b;color:var(--text);padding:0 10px;
  width:160px; min-width:140px; max-width:180px;
}

/* Buttons */
.btn{
  min-height:42px;height:42px;padding:0 14px;border-radius:10px;
  border:1px solid var(--line);background:#2a3345;color:var(--text);
  cursor:pointer;box-shadow:0 2px 8px 0 #101e2422;transition:filter .15s,transform .05s,background .2s,color .15s
}
.btn:hover{filter:brightness(1.06)} .btn:active{transform:translateY(1px)}
.btn-default{background:#2a3345} .btn-outline{background:transparent;border-color:var(--line)}
.btn-destructive{background:#3b1f2a;border-color:#5a2638;color:#ffd8e1}

/* Sync indicator */
.sync-indicator{
  position:fixed; bottom:22px; right:22px; z-index:99999;
  background:#2dd4bf; color:#181a20; padding:8px 14px; border-radius:14px;
  font-weight:700; font-size:14px; box-shadow:0 2px 14px #2dd4bf44
}
.spinner{display:inline-block;width:1.1em;height:1.1em;border:2.5px solid #fff;border-top:2.5px solid #2dd4bf;border-radius:50%;margin-right:.5em;animation:spin .7s linear infinite;vertical-align:middle}
@keyframes spin{to{transform:rotate(360deg)}}

/* Cards - Base */
.card{
  background:rgba(35,41,67,.96);
  border-radius:var(--card-radius);
  padding:var(--card-pad);
  border:1px solid #2a3950;
  box-shadow:0 12px 26px rgba(0,0,0,.28);
  transition:box-shadow .25s, transform .12s, border-color .25s;
}
.card:hover{box-shadow:0 22px 44px rgba(0,0,0,.32); border-color:#2dd4bf; transform:translateY(-2px)}
.card-head{display:flex;justify-content:space-between;align-items:center;gap:12px;padding-bottom:8px;border-bottom:1px dashed #2b3648;margin-bottom:10px}
.card h2{margin:0;font-size:1.35rem;font-weight:800;color:var(--accent);letter-spacing:.5px}

/* details as islands */
.card details{
  background:rgba(15,23,42,.28); border:1px solid rgba(43,59,80,.6);
  border-radius:12px; padding:8px 12px; margin:10px 0
}
summary{list-style:none;cursor:pointer;padding:9px 0;user-select:none;-webkit-tap-highlight-color:transparent;border-radius:8px;transition:background .18s,color .18s}
summary::-webkit-details-marker{display:none} summary:focus{outline:none}
details[open]>summary{background:#2dd4bf22;color:var(--accent);font-weight:600}

.card-content ul{margin:8px 0 8px 8px; padding-left:0}
.card-content li{
  display:grid; grid-template-columns:1fr auto; align-items:center;
  gap:12px; padding:10px 0; border-bottom:1px dashed #2b3648; font-size:15px
}
.card-content li:last-child{border-bottom:0}
.card-content li:hover{background:rgba(148,163,184,.06); border-radius:8px; padding-left:8px}
.card-content li>div:first-child span{font-weight:600}

.card-content button{
  height:34px;padding:0 10px;border-radius:8px;border:1px solid var(--line);
  background:#2a3345;color:var(--text)
}

/* ===== 장소 카드 그리드 ===== */
.cards-grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(300px, 1fr));
  gap: var(--grid-gap);
  padding-bottom: 10px;

  max-width: var(--cards-max);
  margin-inline: auto;
  justify-content: center; /* 가운데 정렬 느낌 강화 */
}
.card.fixed{ height: var(--fixed-card-height); display:flex; flex-direction:column }
.card.fixed .card-content.scroll{ flex:1; min-height:0; overflow:auto }

/* ===== 전체 요약 박스 (하단, 폭 축소) ===== */
.summary-bottom{ display:flex; justify-content:center; margin-top: 8px; }
.summary-bottom .summary-card{ width:100%; max-width: var(--summary-max); }

/* ===== Logs Header ===== */
.logs-header{
  display: grid;
  grid-template-columns: auto 1fr auto;    /* back | title | controls */
  grid-template-areas: "back title controls";
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}
.back-btn{ grid-area: back; }
.logs-title{
  grid-area: title;
  margin: 0;
  font-size: 26px;           /* 🔶 더 크게 */
  font-weight: 900;
}
.logs-controls{
  grid-area: controls;
  display: flex;
  gap: 8px;
  align-items: center;
  justify-content: flex-end; /* 우측 정렬 */
  flex-wrap: wrap;
}

/* Search / Logs content */
.search-result{ width:100%; background:#0f172a66; border:1px solid #1e293b; border-radius:14px; padding:14px }
.logs-container{flex:1;display:flex;flex-direction:column;padding:14px}
.log-item{ background:#0f172a66; border:1px solid #1e293b; padding:12px; border-radius:12px; display:grid; grid-template-columns:1fr auto; gap:12px; align-items:center; margin-bottom:12px }
.text-green{color:#86efac} .text-red{color:#fca5a5}

/* ===== 팝업(확대 보기) ===== */
.overlay{
  position: fixed; inset: 0; background: rgba(0,0,0,.55);
  display:flex; justify-content:center; align-items:center; z-index:10000;
  animation: fadeInOverlay .15s ease-out;
}
@keyframes fadeInOverlay{ from{ opacity:0 } to{ opacity:1 } }

.popup-card{
  width: min(980px, 92vw);
  max-height: min(86vh, 900px);
  background: var(--card);
  border: 1px solid #2a3950;
  border-radius: 18px;
  box-shadow: 0 24px 64px rgba(0,0,0,.45);
  display:flex; flex-direction:column; overflow:hidden;
}
.pop-in{ animation: popIn .18s cubic-bezier(.2,.9,.25,1.3); transform-origin:center; }
@keyframes popIn{ 0%{opacity:0;transform:translateY(10px) scale(.96)} 100%{opacity:1;transform:translateY(0) scale(1)} }
.popup-head{ display:flex; justify-content:space-between; align-items:center; gap:12px; padding:14px 16px; border-bottom:1px dashed #334155; }
.popup-head h3{ margin:0; font-size:1.15rem; }
.popup-content{ padding: 12px 16px; overflow:auto; min-height:0; }
.popup-content details{ background:rgba(15,23,42,.28); border:1px solid rgba(43,59,80,.6); border-radius:12px; padding:8px 12px; margin:10px 0 }
.popup-content ul{ margin:8px 0 8px 8px; padding-left:0 }
.popup-content li{ display:grid; grid-template-columns:1fr auto; gap:12px; padding:10px 0; border-bottom:1px dashed #2b3648; font-size:15px }
.popup-content li:last-child{ border-bottom:0 }

/* Scrollbar */
::-webkit-scrollbar{width:10px}
::-webkit-scrollbar-thumb{background:#2dd4bf88;border-radius:8px}
::-webkit-scrollbar-track{background:#222831}

/* 반응형 */
@media (min-width: 1400px){
  :root{ --page-max: 1440px; --cards-max: 1120px; }
  .cards-grid{ grid-template-columns: repeat(3, minmax(320px, 1fr)); }
}
@media (max-width: 1200px){
  .cards-grid{ grid-template-columns: repeat(2, minmax(280px, 1fr)); }
}
@media (max-width: 1024px){
  .cards-grid{ max-width: 100%; }
  .popup-card{ width: min(880px, 94vw); }
}
@media (max-width: 720px){
  .cards-grid{ grid-template-columns: 1fr; gap:16px }
  .card{ border-radius:16px }
  .popup-card{ width: 94vw; max-height: 88vh; }
  input[type="date"]{ width:100% !important; max-width:none }

  /* Logs 헤더: 모바일에서 제목은 맨 위, 그 다음 줄에 back + controls(가로 스크롤) */
  .logs-header{
    grid-template-columns: 1fr;
    grid-template-areas:
      "title"
      "back"
      "controls";
    row-gap: 8px;
  }
  .logs-controls{
    justify-content: flex-start;
    flex-wrap: nowrap;
    overflow-x: auto;
    padding-bottom: 4px;
  }
}
